# .env.example
# 範例環境變數檔案 (不要把真正的金鑰提交到版本控制)
# 將本檔複製為 .env 並填入您的金鑰與設定：
#   cp .env.example .env

# ═══════════════════════════════════════════════════════════════
# 🤖 LLM 模型配置 (Agent 使用)
# ═══════════════════════════════════════════════════════════════

# GitHub Copilot (推薦)
# 使用 GitHub Copilot 模型進行 Agent 對話
# 必須設定 COPILOT_GITHUB_TOKEN：
#   - 從 GitHub Copilot 取得 API Token
#   - 用於 CI/CD 或本地開發場景
GITHUB_COPILOT_TOKEN="ghp_xxxxxxxxxxxxx"

# LiteLLM Proxy 配置
# 當使用本地 LiteLLM Proxy 服務時的配置
LITELLM_PROXY_API_BASE="your_litellm_proxy_api_base"
LITELLM_PROXY_API_KEY="your_litellm_proxy_api_key"
LITELLM_PROXY_MODEL="gpt-4o"

# OPENAI_API_KEY (log trace)
# OPENAI_API_KEY="sk-proj-..."

# LLM 回覆長度控制
# 可選值：brief (簡潔 1-2 句), normal (標準 2-4 句), detailed (詳細 3-5 段)
AGENT_RESPONSE_LENGTH="normal"

# 品質檢核設定 (評估 Agent 使用)
# 是否啟用進階品質分析
ENABLE_QUALITY_CHECK="true"
# 品質評分閾值 (0.0-1.0)，低於此值會升級人工處理
QUALITY_THRESHOLD="0.75"

# 🎯 嵌入模型設定 (向量化)
# 向量化提供者選擇：
#   - openai: 使用 OpenAI API (推薦) - 需要 API 金鑰和網路連接
#   - local: 使用本地模型 - 需要安裝 torch 和 sentence-transformers
EMBEDDING_PROVIDER="openai"

# OpenAI 嵌入模型 (當 EMBEDDING_PROVIDER=openai 時使用)
# 支援模型： text-embedding-3-small, text-embedding-3-large, text-embedding-ada-002
EMBEDDING_MODEL="text-embedding-3-small"

# 本地嵌入模型 (當 EMBEDDING_PROVIDER=local 時使用)
# 推薦模型：
#   - all-MiniLM-L6-v2: 輕量快速，多語言支援 (23MB)
#   - BAAI/bge-small-zh-v1.5: 中文優化 (102MB)
#   - moka-ai/m3e-small: 中文語義強化 (93MB)
LOCAL_MODEL_NAME="all-MiniLM-L6-v2"

# 計算設備選擇：
#   - cpu: CPU 計算 (相容性最佳)
#   - cuda: NVIDIA GPU 加速 (需要 CUDA)
#   - mps: Apple Silicon GPU 加速 (M1/M2/M3 Mac)
DEVICE="cpu"

BATCH_SIZE=100
CHROMA_DB_PATH="./chroma_db"

# ChromaDB Collection 名稱 (自動選擇規則)
# 留空則根據模型自動選擇：
#   - text-embedding-3-small → "markdown_documents_openai"
#   - all-MiniLM-L6-v2 → "markdown_documents_minilm"
#   - BGE 系列 → "markdown_documents_bge"
#   - M3E 系列 → "markdown_documents_m3e"
# 或手動指定 collection 名稱覆蓋自動選擇
CHROMA_COLLECTION_NAME=""

# Gradio / 服務設定
GRADIO_SERVER_NAME="0.0.0.0"
GRADIO_SERVER_PORT=7860
# 啟用 Gradio 共享模式，生成公開 URL 供外部訪問
# 可選值：true (啟用共享), false (禁用共享)
# - true: 生成臨時公開 URL (例如 https://xxxxx.gradio.live)，任何人可訪問
# - false: 僅在本地網絡訪問，更安全但需要配置網絡
GRADIO_SHARE="false"

# ═══════════════════════════════════════════════════════════════
# 📊 Infographics Admin 設定
# ═══════════════════════════════════════════════════════════════
# Admin 介面獨立於主應用運行，使用不同的連接埠
INFOGRAPHICS_ADMIN_HOST="0.0.0.0"
INFOGRAPHICS_ADMIN_PORT=7870
INFOGRAPHICS_ADMIN_SHARE="false"
# Admin 認證 (建議在生產環境更改預設值)
INFOGRAPHICS_ADMIN_USER="admin"
INFOGRAPHICS_ADMIN_PASS="changeme"

# 🔄 Git 自動提交設定 (觸發 GitHub Pages 部署)
# 上傳/更新/刪除圖片後自動執行 git commit 與 push
# 需要 SSH key 認證，remote URL 請使用 git@github.com:... 格式
INFOGRAPHICS_GIT_AUTO_COMMIT="false"
INFOGRAPHICS_GIT_AUTO_PUSH="false"
INFOGRAPHICS_GIT_COMMIT_PREFIX="[infographics]"

# ═══════════════════════════════════════════════════════════════
# 📋 日誌配置
# ═══════════════════════════════════════════════════════════════
# 控制台日誌級別 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_CONSOLE_LEVEL="INFO"
# 檔案日誌級別
LOG_FILE_LEVEL="DEBUG"
# 日誌檔案路徑 (留空則不寫入檔案)
LOG_FILE="logs/resumemate.log"

# 日誌與環境
ENVIRONMENT="development"
LOG_LEVEL="INFO"

# 🔧 本地向量化性能建議：
# 1. 使用 EMBEDDING_PROVIDER="local" 可獲得 10-25倍 速度提升
# 2. Apple Silicon Mac 建議設定 DEVICE="mps" 以啟用 GPU 加速
# 3. NVIDIA GPU 用戶建議設定 DEVICE="cuda" 以啟用 GPU 加速
# 4. 本地模型首次載入需下載，之後完全離線運行

# 安全提醒：
# - 不要在公開倉庫提交含有實際金鑰的 .env 檔案
# - 使用 CI / secret manager 保存生產環境金鑰
# - 本地模型模式下可選擇不設定 OPENAI_API_KEY (僅查詢向量化)
